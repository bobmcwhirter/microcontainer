<?xml version="1.0" encoding="UTF-8"?>

<deployment xmlns="urn:jboss:bean-deployer:2.0">
   
   <bean name="Dependency" class="org.jboss.test.microcontainer.support.SimpleBeanImpl"/>

   <aop:aspect xmlns:aop="urn:jboss:aop-beans:1.0"
               name="InterceptedAdvice" 
               class="org.jboss.test.microcontainer.support.CalledInterceptor"
               pointcut="execution(* $instanceof{org.jboss.test.microcontainer.support.SimpleBean}->*(..))">
   </aop:aspect>
            
   <aop:aspect xmlns:aop="urn:jboss:aop-beans:1.0"
               name="DependentAdvice" 
               class="org.jboss.test.microcontainer.support.InterceptorWithDependency"
               pointcut="execution(* $instanceof{org.jboss.test.microcontainer.support.SimpleBean}->*(..))">
      <property name="simpleBean"><inject bean="Dependency"/></property>
   </aop:aspect>
            
   <bean name="Intercepted" class="org.jboss.test.microcontainer.support.SimpleBeanImpl"/>
   
</deployment>
