<project name="build-committer-list" default="build">

    <property file="committer-list.properties"/>

    <path id="project.classpath">
        <fileset dir="../../svnant/lib/">
            <include name="*.jar"/>
        </fileset>
    </path>

    <taskdef resource="svntask.properties" classpathref="project.classpath"/>

    <target name="build" description="Generates committer-list.xml">
        <delete file="committer-list.xml"/>
        <svn username="${svn.username}" password="${svn.password}">
            <checkout url="https://svn.labs.jboss.com/admin/data/" destPath="../checkout/committer-list"/>
        </svn>
        <copy file="../checkout/committer-list/committer-list.xml" todir="."/>
        <exec dir="." executable="bash">
            <arg value="-c"/>
            <arg value="sh create-committer-list.sh"/>
        </exec>
        <move file="committer-list-temp.xml" tofile="committer-list.xml"/>
        <delete file="committer-list-temp.xml"/>
    </target>

</project>

